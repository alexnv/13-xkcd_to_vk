# Публикация комикса XKCD в сообщество VK

## Как установить

### Установка библиотек и зависимостей

Развернуть виртуальное окружение интерпретатора
```sh
python3 -m venv  
```

Активируйте виртуальное окружение

```sh
source pythonenv/bin/activate 
```

Безопасно обновите pip

```sh              
pip install --upgrade pip      
```

Установить требуемые библиотеки для скрипта командой 
```sh
pip install -r requirements.txt
```

### Настройка параметров скрипта

1. Создать группу в [VK](https://vk.com/groups?tab=admin), сохранить в файле `.env` в параметре `VK_GROUPID` идентификатор группы
2. Создать приложение в [VK](https://vk.com/dev). В качестве типа приложения следует указать `standalone` 
3. Пройти авторизацию
   1. Процедура [Implicit Flow](https://vk.com/dev/implicit_flow_user) 
   2. Так как вы используете standalone приложение, для получения ключа пользователя стоит использовать Implicit Flow 
   3. Убрать параметр redirect_uri у запроса на ключ 
   4. Параметр scope указать через запятую, вот так: `scope=photos,groups,wall`.
4. и сохранить `access_token` в файле `.env` в параметре `VK_ACCESS_TOKEN`

## Запуск скрипта

Скрипт для публикации комикса XKCD в сообщество VK.

Для публикации комикса необходимо вызвать скрипт из командной строки. Для публикации комикса с конкретным id его необходимо указать в параметрах скрипта, если id не указан, то будет опубликован случайный комикс

Например:

```commandline
python main.py
```

```commandline
usage: main.py [-h] [id]                                                   
                                                                           
Программа загружает фото XKCD и публикует на стену VK                      
                                                                           
positional arguments:                                                      
  id          Номер комикса, если не указан будет сохранен случайный комикс
                                                                           
optional arguments:                                                        
  -h, --help  show this help message and exit 

```

